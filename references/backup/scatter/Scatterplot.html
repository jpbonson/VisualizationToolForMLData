<!DOCTYPE html>
<!-- saved from url=(0035)http://bl.ocks.org/mbostock/3887118 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8">
<title>Scatterplot</title>
<link rel="icon" href="http://bl.ocks.org/favicon.png">
<style>

@import url("/style.css?20120730");

header,
footer {
  color: #555;
}

a.gist {
  color: #000;
}

</style>

<style type="text/css"></style></head><body><header>
  <a href="http://bl.ocks.org/mbostock">mbostock</a>’s block
  <a class="gist" title="View gist #3887118 on GitHub" href="https://gist.github.com/mbostock/3887118">#3887118</a>
  <span class="date">October 14, 2012</span>
</header>

<h1>Scatterplot</h1>


<iframe src="./Scatterplot_files/saved_resource.html" marginwidth="0" marginheight="0" scrolling="no"></iframe>
<p></p><aside><a style="position:relative;top:6px;" href="http://bl.ocks.org/mbostock/raw/3887118/" target="_blank">Open in a new window.</a></aside>


<div class="gist-readme"><p>This scatterplot is constructed from a TSV file storing the dimensions of sepals and petals of various iris flowers. The chart employs <a href="http://bl.ocks.org/3019563">conventional margins</a> and a number of D3 features:</p>

<ul>
<li><a href="https://github.com/mbostock/d3/wiki/CSV">d3.tsv</a> - load and parse data</li>
<li><a href="https://github.com/mbostock/d3/wiki/Quantitative-Scales">d3.scale.linear</a> - <em>x</em>- and <em>y</em>-position encoding</li>
<li><a href="https://github.com/mbostock/d3/wiki/Ordinal-Scales">d3.scale.ordinal</a> - color encoding</li>
<li><a href="https://github.com/mbostock/d3/wiki/Arrays#wiki-d3_extent">d3.extent</a> - compute domains</li>
<li><a href="https://github.com/mbostock/d3/wiki/SVG-Axes">d3.svg.axis</a> - display axes</li>
</ul></div>

<div class="gist-sources"><div class="gist-source"><h2>index.html<a name="index.html" href="http://bl.ocks.org/mbostock/3887118#index.html">#</a></h2><pre><code class="html xml"><span class="doctype">&lt;!DOCTYPE html&gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">charset</span>=<span class="value">"utf-8"</span>&gt;</span>
<span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css">

<span class="tag">body</span> <span class="rules">{
  <span class="rule"><span class="attribute">font</span>:<span class="value"> <span class="number">10</span>px sans-serif</span>;</span>
<span class="rule">}</span></span>

<span class="class">.axis</span> <span class="tag">path</span>,
<span class="class">.axis</span> <span class="tag">line</span> <span class="rules">{
  <span class="rule"><span class="attribute">fill</span>:<span class="value"> none</span>;</span>
  <span class="rule"><span class="attribute">stroke</span>:<span class="value"> <span class="number">#000</span></span>;</span>
  <span class="rule"><span class="attribute">shape-rendering</span>:<span class="value"> crispEdges</span>;</span>
<span class="rule">}</span></span>

<span class="class">.dot</span> <span class="rules">{
  <span class="rule"><span class="attribute">stroke</span>:<span class="value"> <span class="number">#000</span></span>;</span>
<span class="rule">}</span></span>

</span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
<span class="tag">&lt;<span class="title">body</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">"http://d3js.org/d3.v3.min.js"</span>&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
<span class="tag">&lt;<span class="title">script</span>&gt;</span><span class="javascript">

<span class="keyword">var</span> margin = {top: <span class="number">20</span>, right: <span class="number">20</span>, bottom: <span class="number">30</span>, left: <span class="number">40</span>},
    width = <span class="number">960</span> - margin.left - margin.right,
    height = <span class="number">500</span> - margin.top - margin.bottom;

<span class="keyword">var</span> x = d3.scale.linear()
    .range([<span class="number">0</span>, width]);

<span class="keyword">var</span> y = d3.scale.linear()
    .range([height, <span class="number">0</span>]);

<span class="keyword">var</span> color = d3.scale.category10();

<span class="keyword">var</span> xAxis = d3.svg.axis()
    .scale(x)
    .orient(<span class="string">"bottom"</span>);

<span class="keyword">var</span> yAxis = d3.svg.axis()
    .scale(y)
    .orient(<span class="string">"left"</span>);

<span class="keyword">var</span> svg = d3.select(<span class="string">"body"</span>).append(<span class="string">"svg"</span>)
    .attr(<span class="string">"width"</span>, width + margin.left + margin.right)
    .attr(<span class="string">"height"</span>, height + margin.top + margin.bottom)
  .append(<span class="string">"g"</span>)
    .attr(<span class="string">"transform"</span>, <span class="string">"translate("</span> + margin.left + <span class="string">","</span> + margin.top + <span class="string">")"</span>);

d3.tsv(<span class="string">"data.tsv"</span>, <span class="function"><span class="keyword">function</span><span class="params">(error, data)</span> {</span>
  data.forEach(<span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span>
    d.sepalLength = +d.sepalLength;
    d.sepalWidth = +d.sepalWidth;
  });

  x.domain(d3.extent(data, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span> <span class="keyword">return</span> d.sepalWidth; })).nice();
  y.domain(d3.extent(data, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span> <span class="keyword">return</span> d.sepalLength; })).nice();

  svg.append(<span class="string">"g"</span>)
      .attr(<span class="string">"class"</span>, <span class="string">"x axis"</span>)
      .attr(<span class="string">"transform"</span>, <span class="string">"translate(0,"</span> + height + <span class="string">")"</span>)
      .call(xAxis)
    .append(<span class="string">"text"</span>)
      .attr(<span class="string">"class"</span>, <span class="string">"label"</span>)
      .attr(<span class="string">"x"</span>, width)
      .attr(<span class="string">"y"</span>, -<span class="number">6</span>)
      .style(<span class="string">"text-anchor"</span>, <span class="string">"end"</span>)
      .text(<span class="string">"Sepal Width (cm)"</span>);

  svg.append(<span class="string">"g"</span>)
      .attr(<span class="string">"class"</span>, <span class="string">"y axis"</span>)
      .call(yAxis)
    .append(<span class="string">"text"</span>)
      .attr(<span class="string">"class"</span>, <span class="string">"label"</span>)
      .attr(<span class="string">"transform"</span>, <span class="string">"rotate(-90)"</span>)
      .attr(<span class="string">"y"</span>, <span class="number">6</span>)
      .attr(<span class="string">"dy"</span>, <span class="string">".71em"</span>)
      .style(<span class="string">"text-anchor"</span>, <span class="string">"end"</span>)
      .text(<span class="string">"Sepal Length (cm)"</span>)

  svg.selectAll(<span class="string">".dot"</span>)
      .data(data)
    .enter().append(<span class="string">"circle"</span>)
      .attr(<span class="string">"class"</span>, <span class="string">"dot"</span>)
      .attr(<span class="string">"r"</span>, <span class="number">3.5</span>)
      .attr(<span class="string">"cx"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span> <span class="keyword">return</span> x(d.sepalWidth); })
      .attr(<span class="string">"cy"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span> <span class="keyword">return</span> y(d.sepalLength); })
      .style(<span class="string">"fill"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span> <span class="keyword">return</span> color(d.species); });

  <span class="keyword">var</span> legend = svg.selectAll(<span class="string">".legend"</span>)
      .data(color.domain())
    .enter().append(<span class="string">"g"</span>)
      .attr(<span class="string">"class"</span>, <span class="string">"legend"</span>)
      .attr(<span class="string">"transform"</span>, <span class="function"><span class="keyword">function</span><span class="params">(d, i)</span> {</span> <span class="keyword">return</span> <span class="string">"translate(0,"</span> + i * <span class="number">20</span> + <span class="string">")"</span>; });

  legend.append(<span class="string">"rect"</span>)
      .attr(<span class="string">"x"</span>, width - <span class="number">18</span>)
      .attr(<span class="string">"width"</span>, <span class="number">18</span>)
      .attr(<span class="string">"height"</span>, <span class="number">18</span>)
      .style(<span class="string">"fill"</span>, color);

  legend.append(<span class="string">"text"</span>)
      .attr(<span class="string">"x"</span>, width - <span class="number">24</span>)
      .attr(<span class="string">"y"</span>, <span class="number">9</span>)
      .attr(<span class="string">"dy"</span>, <span class="string">".35em"</span>)
      .style(<span class="string">"text-anchor"</span>, <span class="string">"end"</span>)
      .text(<span class="function"><span class="keyword">function</span><span class="params">(d)</span> {</span> <span class="keyword">return</span> d; });

});

</span><span class="tag">&lt;/<span class="title">script</span>&gt;</span></code></pre></div><div class="gist-source"><h2>data.tsv<a name="data.tsv" href="http://bl.ocks.org/mbostock/3887118#data.tsv">#</a></h2><pre><code class="undefined">sepalLength	sepalWidth	petalLength	petalWidth	species
5.1	3.5	1.4	0.2	setosa
4.9	3.0	1.4	0.2	setosa
4.7	3.2	1.3	0.2	setosa
4.6	3.1	1.5	0.2	setosa
5.0	3.6	1.4	0.2	setosa
5.4	3.9	1.7	0.4	setosa
4.6	3.4	1.4	0.3	setosa
5.0	3.4	1.5	0.2	setosa
4.4	2.9	1.4	0.2	setosa
4.9	3.1	1.5	0.1	setosa
5.4	3.7	1.5	0.2	setosa
4.8	3.4	1.6	0.2	setosa
4.8	3.0	1.4	0.1	setosa
4.3	3.0	1.1	0.1	setosa
5.8	4.0	1.2	0.2	setosa
5.7	4.4	1.5	0.4	setosa
5.4	3.9	1.3	0.4	setosa
5.1	3.5	1.4	0.3	setosa
5.7	3.8	1.7	0.3	setosa
5.1	3.8	1.5	0.3	setosa
5.4	3.4	1.7	0.2	setosa
5.1	3.7	1.5	0.4	setosa
4.6	3.6	1.0	0.2	setosa
5.1	3.3	1.7	0.5	setosa
4.8	3.4	1.9	0.2	setosa
5.0	3.0	1.6	0.2	setosa
5.0	3.4	1.6	0.4	setosa
5.2	3.5	1.5	0.2	setosa
5.2	3.4	1.4	0.2	setosa
4.7	3.2	1.6	0.2	setosa
4.8	3.1	1.6	0.2	setosa
5.4	3.4	1.5	0.4	setosa
5.2	4.1	1.5	0.1	setosa
5.5	4.2	1.4	0.2	setosa
4.9	3.1	1.5	0.2	setosa
5.0	3.2	1.2	0.2	setosa
5.5	3.5	1.3	0.2	setosa
4.9	3.6	1.4	0.1	setosa
4.4	3.0	1.3	0.2	setosa
5.1	3.4	1.5	0.2	setosa
5.0	3.5	1.3	0.3	setosa
4.5	2.3	1.3	0.3	setosa
4.4	3.2	1.3	0.2	setosa
5.0	3.5	1.6	0.6	setosa
5.1	3.8	1.9	0.4	setosa
4.8	3.0	1.4	0.3	setosa
5.1	3.8	1.6	0.2	setosa
4.6	3.2	1.4	0.2	setosa
5.3	3.7	1.5	0.2	setosa
5.0	3.3	1.4	0.2	setosa
7.0	3.2	4.7	1.4	versicolor
6.4	3.2	4.5	1.5	versicolor
6.9	3.1	4.9	1.5	versicolor
5.5	2.3	4.0	1.3	versicolor
6.5	2.8	4.6	1.5	versicolor
5.7	2.8	4.5	1.3	versicolor
6.3	3.3	4.7	1.6	versicolor
4.9	2.4	3.3	1.0	versicolor
6.6	2.9	4.6	1.3	versicolor
5.2	2.7	3.9	1.4	versicolor
5.0	2.0	3.5	1.0	versicolor
5.9	3.0	4.2	1.5	versicolor
6.0	2.2	4.0	1.0	versicolor
6.1	2.9	4.7	1.4	versicolor
5.6	2.9	3.6	1.3	versicolor
6.7	3.1	4.4	1.4	versicolor
5.6	3.0	4.5	1.5	versicolor
5.8	2.7	4.1	1.0	versicolor
6.2	2.2	4.5	1.5	versicolor
5.6	2.5	3.9	1.1	versicolor
5.9	3.2	4.8	1.8	versicolor
6.1	2.8	4.0	1.3	versicolor
6.3	2.5	4.9	1.5	versicolor
6.1	2.8	4.7	1.2	versicolor
6.4	2.9	4.3	1.3	versicolor
6.6	3.0	4.4	1.4	versicolor
6.8	2.8	4.8	1.4	versicolor
6.7	3.0	5.0	1.7	versicolor
6.0	2.9	4.5	1.5	versicolor
5.7	2.6	3.5	1.0	versicolor
5.5	2.4	3.8	1.1	versicolor
5.5	2.4	3.7	1.0	versicolor
5.8	2.7	3.9	1.2	versicolor
6.0	2.7	5.1	1.6	versicolor
5.4	3.0	4.5	1.5	versicolor
6.0	3.4	4.5	1.6	versicolor
6.7	3.1	4.7	1.5	versicolor
6.3	2.3	4.4	1.3	versicolor
5.6	3.0	4.1	1.3	versicolor
5.5	2.5	4.0	1.3	versicolor
5.5	2.6	4.4	1.2	versicolor
6.1	3.0	4.6	1.4	versicolor
5.8	2.6	4.0	1.2	versicolor
5.0	2.3	3.3	1.0	versicolor
5.6	2.7	4.2	1.3	versicolor
5.7	3.0	4.2	1.2	versicolor
5.7	2.9	4.2	1.3	versicolor
6.2	2.9	4.3	1.3	versicolor
5.1	2.5	3.0	1.1	versicolor
5.7	2.8	4.1	1.3	versicolor
6.3	3.3	6.0	2.5	virginica
5.8	2.7	5.1	1.9	virginica
7.1	3.0	5.9	2.1	virginica
6.3	2.9	5.6	1.8	virginica
6.5	3.0	5.8	2.2	virginica
7.6	3.0	6.6	2.1	virginica
4.9	2.5	4.5	1.7	virginica
7.3	2.9	6.3	1.8	virginica
6.7	2.5	5.8	1.8	virginica
7.2	3.6	6.1	2.5	virginica
6.5	3.2	5.1	2.0	virginica
6.4	2.7	5.3	1.9	virginica
6.8	3.0	5.5	2.1	virginica
5.7	2.5	5.0	2.0	virginica
5.8	2.8	5.1	2.4	virginica
6.4	3.2	5.3	2.3	virginica
6.5	3.0	5.5	1.8	virginica
7.7	3.8	6.7	2.2	virginica
7.7	2.6	6.9	2.3	virginica
6.0	2.2	5.0	1.5	virginica
6.9	3.2	5.7	2.3	virginica
5.6	2.8	4.9	2.0	virginica
7.7	2.8	6.7	2.0	virginica
6.3	2.7	4.9	1.8	virginica
6.7	3.3	5.7	2.1	virginica
7.2	3.2	6.0	1.8	virginica
6.2	2.8	4.8	1.8	virginica
6.1	3.0	4.9	1.8	virginica
6.4	2.8	5.6	2.1	virginica
7.2	3.0	5.8	1.6	virginica
7.4	2.8	6.1	1.9	virginica
7.9	3.8	6.4	2.0	virginica
6.4	2.8	5.6	2.2	virginica
6.3	2.8	5.1	1.5	virginica
6.1	2.6	5.6	1.4	virginica
7.7	3.0	6.1	2.3	virginica
6.3	3.4	5.6	2.4	virginica
6.4	3.1	5.5	1.8	virginica
6.0	3.0	4.8	1.8	virginica
6.9	3.1	5.4	2.1	virginica
6.7	3.1	5.6	2.4	virginica
6.9	3.1	5.1	2.3	virginica
5.8	2.7	5.1	1.9	virginica
6.8	3.2	5.9	2.3	virginica
6.7	3.3	5.7	2.5	virginica
6.7	3.0	5.2	2.3	virginica
6.3	2.5	5.0	1.9	virginica
6.5	3.0	5.2	2.0	virginica
6.2	3.4	5.4	2.3	virginica
5.9	3.0	5.1	1.8	virginica
</code></pre></div></div>

<script src="./Scatterplot_files/d3.v3.min.js"></script>
<script src="./Scatterplot_files/highlight.min.js"></script>
<script>

var gist = {"history":[{"version":"0bcf7a99d797be67f2d82d3a32f50a734b39cea1"}],"files":{"README.md":{"language":"Markdown","type":"text/plain","filename":"README.md","size":657,"sha":"7b53ea151d080f4db7d898cca9d51a64a6bbaf91"},"data.tsv":{"language":null,"type":"text/tab-separated-values","filename":"data.tsv","size":3854,"sha":"4ac49a4a180f1680ba48357e29cefa5e5f379881"},"index.html":{"language":"HTML","type":"text/html","filename":"index.html","size":2640,"sha":"117c7ce0911d6fe7beeb42f8d88f82cf6abe1b88"},"thumbnail.png":{"language":null,"type":"image/png","filename":"thumbnail.png","size":8123,"sha":"9dc1acfdeb9b5fd777a681796298983b9b51385d"}},"created_at":"2012-10-14T03:16:08.000Z","updated_at":"2015-01-12T00:24:26.000Z","description":"Scatterplot","owner":{"login":"mbostock"},"id":"3887118"};

var files = d3.values(gist.files)
    .sort(function(a, b) { return (b.filename === "index.html") - (a.filename === "index.html") || a.filename.localeCompare(b.filename); });

var readme = d3.selectAll(".gist-readme")
    .data(files.filter(function(d) { return /^readme\b/i.test(d.filename) && d.language === "Markdown"; }))
    .each(function(d) {
      var readme = d3.select(this);
      d3.text("/mbostock/raw/3887118/0bcf7a99d797be67f2d82d3a32f50a734b39cea1/" + d.filename, function(error, content) {
        readme.html(new Showdown.converter().makeHtml(content));
        readme.selectAll("code").each(function() { hljs.highlightBlock(this); });
      });
    });

var source = d3.select(".gist-sources").selectAll(".gist-source")
    .data(files.filter(function(d) { return !/^readme\b/i.test(d.filename) && d.size < 50000 && text(d.type); }))
  .enter().append("div")
    .attr("class", "gist-source");

source.append("h2")
    .text(function(d) { return d.filename; })
  .append("a")
    .attr("name", function(d) { return d.filename; })
    .attr("href", function(d) { return "#" + d.filename; })
    .text("#");

source.append("pre").append("code")
    .attr("class", function(d) { return d.language && (d.language === "JSON" ? "javascript" : d.language.toLowerCase()); })
    .each(function(d) {
      var code = d3.select(this);
      d3.text("/mbostock/raw/3887118/0bcf7a99d797be67f2d82d3a32f50a734b39cea1/" + (d.filename === "index.html" ? "" : d.filename), function(error, content) {
        code.text(content);
        hljs.highlightBlock(code.node());
      });
    });

function text(type) {
  return /(^text\/)|(^application\/(javascript|json)$)|(^image\/svg$)|(\+xml$)/.test(type);
}

</script>

<footer>
  <a href="http://bl.ocks.org/mbostock">mbostock</a>’s block
  <a class="gist" title="View gist #3887118 on GitHub" href="https://gist.github.com/mbostock/3887118">#3887118</a>
  <span class="date">October 14, 2012</span>
</footer>

<script>

GoogleAnalyticsObject = "ga", ga = function() { ga.q.push(arguments); }, ga.q = [], ga.l = +new Date;
ga("create", "UA-48272912-1", "ocks.org");
ga("send", "pageview");

</script>
<script async="" src="./Scatterplot_files/analytics.js"></script>
</body><object id="3839fafb-59eb-9b95-ca0a-7892cab78d85" width="0" height="0" type="application/gas-events-bb"></object></html>